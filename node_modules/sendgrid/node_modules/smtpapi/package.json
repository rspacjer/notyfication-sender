{
  "name": "smtpapi",
  "version": "0.0.1",
  "description": "Build SendGrid X-SMTPAPI headers in nodejs.",
  "main": "lib/main.js",
  "directories": {
    "test": "test"
  },
  "scripts": {
    "test": "./node_modules/.bin/mocha test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/scottmotte/smtpapi-nodejs.git"
  },
  "keywords": [
    "smtpapi",
    "x-smtpapi",
    "smtp",
    "sendgrid",
    "headers",
    "email"
  ],
  "readmeFilename": "README.md",
  "author": {
    "name": "scottmotte"
  },
  "license": "BSD",
  "dependencies": {
    "lodash": "2.4.1"
  },
  "devDependencies": {
    "mocha": "",
    "should": ""
  },
  "readme": "# smtpapi-nodejs\n\nThis node module allows you to quickly and more easily generate SendGrid X-SMTPAPI headers.\n\n[![BuildStatus](https://travis-ci.org/sendgrid/smtpapi-nodejs.png?branch=master)](https://travis-ci.org/sendgrid/smtpapi-nodejs)\n[![NPM version](https://badge.fury.io/js/smtpapi.png)](http://badge.fury.io/js/smtpapi)\n\n```javascript\nvar smtpapi   = require('smtpapi');\nvar header    = smtpapi.Header(); \nheader.addTo('you@youremail.com');\nheader.setUniqueArgs({cow: 'chicken'});\n\nvar smtpapi_header_string = header.jsonString();\n```\n\nSee [this](http://sendgrid.com/docs/API_Reference/SMTP_API/) for more information on the available X-SMTPAPI custom handling instructions.\n\n## Installation\n\nThe following recommended installation requires [npm](https://npmjs.org/). If you are unfamiliar with npm, see the [npm docs](https://npmjs.org/doc/). Npm comes installed with Node.js since node version 0.8.x therefore you likely already have it.\n\nAdd the following to your `package.json` file:\n\n```json\n{\n  ...\n  \"dependencies\": {\n    ...\n    \"smtpapi\": \"0.0.1\"\n  }\n}\n```\n\nInstall smtpapi-nodejs and its dependencies:\n\n```bash\nnpm install\n```\n\n## Usage\n\n### Initializing\n\n```javascript\nvar smtpapi   = require('smtpapi');\nvar header    = new smtpapi.Header();\n```\n\n### jsonString\n\nThis gives you back the stringified json formatted X-SMTPAPI header. Use this with your [smtp client](https://github.com/andris9/simplesmtp) of choice.\n\n```javascript\nvar smtpapi   = require('smtpapi');\nvar header    = new smtpapi.Header();\nheader.jsonString();\n```\n\n### addTo\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addTo('you@youremail.com');\nheader.addTo('other@otheremail.com');\n```\n\n### setTos\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setTos(['you@youremail.com', 'other@otheremail.com');\n```\n\n### addSubstitution\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addSubstitution('keep', 'secret'); // sub = {keep: ['secret']}\nheader.addSubstitution('other', ['one', 'two']);   // sub = {keep: ['secret'], other: ['one', 'two']}\n```\n\n### setSubstitutions \n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setSubstitution({'-charge-': 'This ship is useless.'}); // section = {'-charge-': 'This ship is useless.'}\n```\n\n### addUniqueArg\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addUniqueArg({cow: 'chicken'}); // unique_args = {cow: 'chicken'}\nheader.addUniqueArg({cat: 'dog'});     // unique_args = {cow: 'chicken', cat: 'dog'}\n```\n\n### setUniqueArgs\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setUniqueArgs({cow: 'chicken'}); // unique_args = {cow: 'chicken'}\nheader.setUniqueArgs({dad: 'proud'});   // unique_args = {dad: 'proud'}\n```\n\n### addCategory\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addCategory('tactics');        // category = ['tactics']\nheader.addCategory('advanced');       // category = ['tactics', 'advanced']\n```\n\n### setCategories\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setCategories(['snowball-fight', 'tactics']); // category = ['snowball-fight', 'tactics']\n```\n\n### addSection\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addSection({'-charge-': 'This ship is useless.'}); // section = {'-charge-': 'This ship is useless.'}\n```\n\n### setSections\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setSections({'-charge-': 'This ship is useless.', '-other': 'Another section here'}); // section = {'-charge-': 'This ship is useless.', '-other': 'Another section here'}\n```\n\n### addFilter\n\nYou can add filter settings one at a time.\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.addFilter('footer', 'enable', 1);\nheader.addFilter('footer', 'text/html', '<strong>boo</strong>');\n```\n\n### setFilters\n\nYou can set a filter using an object literal.\n\n```javascript\nvar header     = new smtpapi.Header();\nheader.setFilters({\n  'footer': {\n    'setting': {\n      'enable': 1,\n      'text/plain': 'You can haz footers!'\n    }\n  }\n});\n```\n\n## SendGrid SMTP Example\n\nThe following example builds the X-SMTPAPI headers and adds them to nodemailer. Nodemailer then sends the email through SendGrid. You can use this same code in your application or optionally you can use [sendgrid-nodejs](http://github.com/sendgrid/sendgrid-nodejs).\n\n```javascript \nvar nodemailer = require('nodemailer');\nvar smtpapi    = require('smtpapi');\n\n// Build the smtpapi header\nvar header = new smtpapi.Header();\nheader.addTo('you@youremail.com');\nheader.setUniqueArgs({cow: 'chicken'});\n\n// Add the smtpapi header to the general headers\nvar headers    = { 'x-smtpapi': header.jsonString() };\n\n// Use nodemailer to send the email\nvar settings  = {\n  host: \"smtp.sendgrid.net\",\n  port: parseInt(587, 10),\n  requiresAuth: true,\n  auth: {\n    user: \"sendgrid_username\",\n    pass: \"sendgrid_password\"\n  }\n};\nvar smtpTransport = nodemailer.createTransport(\"SMTP\", settings);\n\nvar mailOptions = {\n  from:     \"Fred Foo <foo@blurdybloop.com>\",\n  to:       \"bar@blurdybloop.com\",\n  subject:  \"Hello\",\n  text:     \"Hello world\",\n  html:     \"<b>Hello world</b>\",\n  headers:  headers\n}\n\nsmtpTransport.sendMail(mailOptions, function(error, response) {\n  smtpTransport.close();\n\n  if (error) { \n    console.log(error);\n  } else {\n    console.log(\"Message sent: \" + response.message);\n  }\n});\n```\n\n## Contributing\n\n1. Fork it\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Added some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create new Pull Request\n\n## Running Tests\n\n````bash\nnpm test\n```\n",
  "bugs": {
    "url": "https://github.com/scottmotte/smtpapi-nodejs/issues"
  },
  "homepage": "https://github.com/scottmotte/smtpapi-nodejs",
  "_id": "smtpapi@0.0.1",
  "dist": {
    "shasum": "7ea07d72ed145f3b7ee7fd3efa2fa39203e7fb26"
  },
  "_from": "https://registry.npmjs.org/smtpapi/-/smtpapi-0.0.1.tgz",
  "_resolved": "https://registry.npmjs.org/smtpapi/-/smtpapi-0.0.1.tgz"
}
